{"ast":null,"code":"import _classCallCheck from \"/home/camilo/Documents/Universidad/IETI/IETI_Labs/TaskPlannerPart2/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/camilo/Documents/Universidad/IETI/IETI_Labs/TaskPlannerPart2/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/camilo/Documents/Universidad/IETI/IETI_Labs/TaskPlannerPart2/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/camilo/Documents/Universidad/IETI/IETI_Labs/TaskPlannerPart2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/camilo/Documents/Universidad/IETI/IETI_Labs/TaskPlannerPart2/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/camilo/Documents/Universidad/IETI/IETI_Labs/TaskPlannerPart2/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/camilo/Documents/Universidad/IETI/IETI_Labs/TaskPlannerPart2/src/components/Login.js\";\nimport React, { Component } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport loginIcon from '../images/loginIcon.png';\n\nvar styles = function styles(theme) {\n  return {\n    button: {\n      width: '30%'\n    },\n    text: {\n      width: '30%'\n    },\n    image: {\n      width: '10%',\n      marginTop: '3%'\n    }\n  };\n};\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n    _this.state = {\n      user: \"\",\n      password: \"\"\n    };\n    _this.handleChangeUser = _this.handleChangeUser.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChangePassword = _this.handleChangePassword.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleRegisterPage = _this.handleRegisterPage.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }), React.createElement(\"img\", {\n        src: loginIcon,\n        className: classes.image,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        id: \"loginForm\",\n        className: classes.form,\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        required: true,\n        id: \"user\",\n        label: \"User\",\n        margin: \"normal\",\n        className: classes.text,\n        variant: \"outlined\",\n        onChange: this.handleChangeUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        required: true,\n        id: \"password\",\n        label: \"Password\",\n        type: \"password\",\n        margin: \"normal\",\n        variant: \"outlined\",\n        className: classes.text,\n        onChange: this.handleChangePassword,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        className: classes.button,\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Login\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }), React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        className: classes.button,\n        onClick: this.handleRegisterPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Sign up\")));\n    }\n  }, {\n    key: \"handleChangeUser\",\n    value: function handleChangeUser(e) {\n      this.setState({\n        user: e.target.value\n      });\n    }\n  }, {\n    key: \"handleChangePassword\",\n    value: function handleChangePassword(e) {\n      this.setState({\n        password: e.target.value\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n\n      if (localStorage.getItem(\"users\") !== null) {\n        var users = JSON.parse(localStorage.getItem(\"users\"));\n\n        for (var x in users.list) {\n          if (users.list[x].username === this.state.user && users.list[x].password === this.state.password) {\n            localStorage.setItem(\"userLogged\", users.list[x].username);\n            localStorage.setItem(\"isLoggedIn\", \"true\");\n            window.location.href = \"/tasks\";\n          }\n\n          alert(\"Incorrect user or password\");\n          document.getElementById(\"loginForm\").reset();\n        }\n      } else {\n        alert(\"There is no users registered, please sign up\");\n        window.location.href = \"/register\";\n      }\n    }\n  }, {\n    key: \"handleRegisterPage\",\n    value: function handleRegisterPage() {\n      window.location.href = \"/register\";\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default withStyles(styles)(Login);","map":{"version":3,"sources":["/home/camilo/Documents/Universidad/IETI/IETI_Labs/TaskPlannerPart2/src/components/Login.js"],"names":["React","Component","TextField","Button","withStyles","loginIcon","styles","theme","button","width","text","image","marginTop","Login","props","state","user","password","handleChangeUser","bind","handleChangePassword","handleSubmit","handleRegisterPage","classes","form","e","setState","target","value","preventDefault","localStorage","getItem","users","JSON","parse","x","list","username","setItem","window","location","href","alert","document","getElementById","reset"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport loginIcon from '../images/loginIcon.png';\n\nconst styles = theme => ({\n    button: {\n        width: '30%'\n    },\n    text: {\n        width: '30%'\n    },\n    image: {\n        width: '10%',\n        marginTop: '3%'\n    }\n});\n\nclass Login extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            user: \"\",\n            password: \"\"\n        }\n\n        this.handleChangeUser = this.handleChangeUser.bind(this);\n        this.handleChangePassword = this.handleChangePassword.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleRegisterPage = this.handleRegisterPage.bind(this);\n    }\n\n    render() {\n        const {classes} = this.props;\n        return (\n            <div>\n                <br/>\n                <img\n                    src={loginIcon}\n                    className={classes.image}\n                    alt=\"\"\n                />\n                <br/>\n                <form\n                    id=\"loginForm\"\n                    className={classes.form}\n                    onSubmit={this.handleSubmit}\n                >\n                    <TextField\n                        required\n                        id=\"user\"\n                        label=\"User\"\n                        margin=\"normal\"\n                        className={classes.text}\n                        variant=\"outlined\"\n                        onChange={this.handleChangeUser}\n                    />\n                    <br/>\n                    <TextField\n                        required\n                        id=\"password\"\n                        label=\"Password\"\n                        type=\"password\"\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        className={classes.text}\n                        onChange={this.handleChangePassword}\n                    />\n                    <br/>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.button}\n                        type=\"submit\"\n                    >\n                        Login\n                    </Button>\n                    <br/>\n                    <br/>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.button}\n                        onClick={this.handleRegisterPage}\n                    >\n                        Sign up\n                    </Button>\n                </form>\n            </div>\n        );\n    }\n\n    handleChangeUser(e) {\n        this.setState({user: e.target.value});\n    }\n\n    handleChangePassword(e) {\n        this.setState({password: e.target.value})\n    }\n\n    handleSubmit(e) {\n\n        e.preventDefault();\n\n        if (localStorage.getItem(\"users\") !== null) {\n\n            const users = JSON.parse(localStorage.getItem(\"users\"));\n\n            for (let x in users.list) {\n                if (users.list[x].username === this.state.user && users.list[x].password === this.state.password) {\n                    localStorage.setItem(\"userLogged\", users.list[x].username);\n                    localStorage.setItem(\"isLoggedIn\", \"true\");\n                    window.location.href = \"/tasks\";\n                }\n                alert(\"Incorrect user or password\");\n                document.getElementById(\"loginForm\").reset();\n            }\n\n        } else {\n            alert(\"There is no users registered, please sign up\");\n            window.location.href = \"/register\";\n        }\n    }\n\n\n    handleRegisterPage() {\n        window.location.href = \"/register\";\n    }\n}\n\nexport default withStyles(styles)(Login);"]},"metadata":{},"sourceType":"module"}